# ===========================================
# Nametag Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
#
# DEVELOPMENT MODES:
# - Dev Container: Environment variables are configured in .devcontainer/docker-compose.yml
#   You don't need to modify this file unless adding custom configuration
# - Local Development: Use the default values below with docker-compose.services.yml
#   The database and Redis use 'localhost' to connect to Docker services
# - Production: See deployment documentation for production configuration

# ===========================================
# Database
# ===========================================
# Connection details (recommended for most users)
# Dev Container: Configured automatically in .devcontainer/docker-compose.yml
# Local Development: Use 'localhost' (connects to docker-compose.services.yml)
# Production: Use your production database host
DB_HOST=localhost
DB_PORT=5432
DB_NAME=nametag_db
DB_USER=nametag
DB_PASSWORD=nametag_dev_password

# Alternatively, you can use a connection string
# If DATABASE_URL is set, it takes precedence over the individual DB_* variables above
# Format: postgresql://user:password@host:port/database
# DATABASE_URL=postgresql://nametag:nametag_dev_password@localhost:5432/nametag_db

# ===========================================
# Application URL
# ===========================================
# Base URL of your application (used for authentication, emails, and redirects)
# For production: https://yourdomain.com
# For development: http://localhost:3000
NEXTAUTH_URL=http://localhost:3000

# Secret key for encrypting JWT tokens
# Generate with: openssl rand -base64 32
# MUST be at least 32 characters
NEXTAUTH_SECRET=your-nextauth-secret-here-minimum-32-characters

# ===========================================
# Email Service (Resend) - OPTIONAL
# ===========================================
# Email is optional for self-hosted instances. If not configured,
# the application will skip sending emails (no verification emails,
# password resets, or reminders will be sent).
# Get your API key from https://resend.com/api-keys
# RESEND_API_KEY=re_xxxxxxxxxxxx

# The domain you've verified with Resend (e.g., example.com or nametag.one)
# EMAIL_DOMAIN=example.com

# ===========================================
# Email Service (SMTP) - OPTIONAL
# ===========================================
# Alternative to Resend - configure SMTP server directly
# If both SMTP and Resend are configured, SMTP takes precedence
# Supports connection pooling for better performance
#
# Common SMTP Providers:
# - Gmail: smtp.gmail.com:587 (use app password, not regular password)
# - Outlook: smtp-mail.outlook.com:587
# - SendGrid: smtp.sendgrid.net:587
# - Mailgun: smtp.mailgun.org:587
# - Custom/Self-hosted: your-smtp-server.com:587
#
# SMTP_HOST=smtp.example.com            # SMTP server hostname
# SMTP_PORT=587                         # Common ports: 587 (STARTTLS), 465 (SSL), 25 (unencrypted)
# SMTP_SECURE=false                     # Set to true for port 465, false for 587/25
# SMTP_REQUIRE_TLS=true                 # Require STARTTLS (recommended for port 587)
# SMTP_USER=your-email@example.com      # SMTP username (often your email address)
# SMTP_PASS=your-smtp-password          # SMTP password or app password
# SMTP_FROM=your-email@example.com      # Set to an address you own

# ===========================================
# Cron Jobs
# ===========================================
# Secret key for authenticating cron job requests
# Generate with: openssl rand -base64 16
# MUST be at least 16 characters
CRON_SECRET=your-cron-secret-here-minimum-16-characters

# ===========================================
# Optional: Application Configuration
# ===========================================
# Environment: development | production | test
# Default if not set: production
# NODE_ENV=development

# Logging level: debug | info | warn | error
# Default if not set: info
# LOG_LEVEL=info

# ===========================================
# Optional: Registration Control
# ===========================================
# Disable registration after the first user registers.
# When set to true:
# - The first user (when user count is 0) can still register
# - All subsequent registration attempts will be blocked
# This is useful for public-facing self-hosted instances
# DISABLE_REGISTRATION=false

# ===========================================
# Redis (Rate Limiting & Caching)
# ===========================================
# OPTIONAL: Without Redis, the app falls back to in-memory rate limiting:
# - Good for: Single-server self-hosted deployments, development
# - Limitations: Resets on restart, doesn't work across multiple instances
#
# Dev Container: Configured automatically in .devcontainer/docker-compose.yml
# Local Development: Use 'localhost' (connects to docker-compose.services.yml)
# Production: Use your production Redis host or omit to use in-memory fallback
# REDIS_PASSWORD=nametag_dev_password
# REDIS_URL=redis://:${REDIS_PASSWORD}@localhost:6379
