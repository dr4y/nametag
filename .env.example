# ===========================================
# Nametag Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# ===========================================
# Database
# ===========================================
# Format: postgresql://user:password@host:port/database
# For Docker: Use 'db' as hostname (Docker service name)
# For local dev: Use 'localhost' as hostname
# Docker users: This is overridden by docker-compose to use service name 'db'
DATABASE_URL=postgresql://nametag:nametag_dev_password@localhost:5432/nametag_db

# ===========================================
# NextAuth.js (Authentication)
# ===========================================
# Base URL of your application
NEXTAUTH_URL=http://localhost:3000

# Public URL of your application (for Stripe redirects, emails, etc.)
# For production: https://nametag.one
# For development: http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Secret key for encrypting JWT tokens
# Generate with: openssl rand -base64 32
# MUST be at least 32 characters
NEXTAUTH_SECRET=your-nextauth-secret-here-minimum-32-characters

# ===========================================
# Email Service (Resend) - OPTIONAL
# ===========================================
# Email is optional for self-hosted instances. If not configured,
# the application will skip sending emails (no verification emails,
# password resets, or reminders will be sent).
# Get your API key from https://resend.com/api-keys
# RESEND_API_KEY=re_xxxxxxxxxxxx

# The domain you've verified with Resend (e.g., example.com or nametag.one)
# EMAIL_DOMAIN=example.com

# ===========================================
# Email Service (SMTP) - OPTIONAL
# ===========================================
# Alternative to Resend - configure SMTP server directly
# If both SMTP and Resend are configured, SMTP takes precedence
# Supports connection pooling for better performance
#
# Common SMTP Providers:
# - Gmail: smtp.gmail.com:587 (use app password, not regular password)
# - Outlook: smtp-mail.outlook.com:587
# - SendGrid: smtp.sendgrid.net:587
# - Mailgun: smtp.mailgun.org:587
# - Custom/Self-hosted: your-smtp-server.com:587
#
# SMTP_HOST=smtp.example.com            # SMTP server hostname
# SMTP_PORT=587                         # Common ports: 587 (STARTTLS), 465 (SSL), 25 (unencrypted)
# SMTP_SECURE=false                     # Set to true for port 465, false for 587/25
# SMTP_REQUIRE_TLS=true                 # Require STARTTLS (recommended for port 587)
# SMTP_USER=your-email@example.com      # SMTP username (often your email address)
# SMTP_PASS=your-smtp-password          # SMTP password or app password
# SMTP_FROM=your-email@example.com      # Set to an address you own

# ===========================================
# Cron Jobs
# ===========================================
# Secret key for authenticating cron job requests
# Generate with: openssl rand -base64 16
# MUST be at least 16 characters
CRON_SECRET=your-cron-secret-here-minimum-16-characters

# ===========================================
# Optional: Application Configuration
# ===========================================
# Environment: development | production | test
NODE_ENV=development

# Logging level: debug | info | warn | error
LOG_LEVEL=info

# ===========================================
# Optional: Registration Control
# ===========================================
# Disable registration after the first user registers.
# When set to true:
# - The first user (when user count is 0) can still register
# - All subsequent registration attempts will be blocked
# This is useful for public-facing self-hosted instances
# DISABLE_REGISTRATION=false

# ===========================================
# Optional: Redis (For Production Rate Limiting)
# ===========================================
# Uncomment and configure for production use
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# ===========================================
# Docker-Specific Variables
# ===========================================
# Database configuration for Docker Compose
DB_USER=nametag
DB_PASSWORD=nametag_dev_password
DB_NAME=nametag_db
DB_PORT=5432

# Redis Configuration
# Generate with: openssl rand -base64 32
REDIS_PASSWORD=your-redis-password-here-minimum-32-characters
# For Docker: Use 'redis' as hostname (Docker service name)
# For local dev: Use 'localhost' as hostname
# Docker users: This is overridden by docker-compose to use service name 'redis'
REDIS_URL=redis://:${REDIS_PASSWORD}@localhost:6379

# ===========================================
# Stripe
# ===========================================
# Stripe API Keys
STRIPE_SECRET_KEY=sk_live_xxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxx
# Webhook Secret
STRIPE_WEBHOOK_SECRET=whsec_xxx
# Price IDs (create these in Stripe Dashboard â†’ Products)
STRIPE_PRICE_PERSONAL_MONTHLY=price_xxx
STRIPE_PRICE_PERSONAL_YEARLY=price_xxx
STRIPE_PRICE_PRO_MONTHLY=price_xxx
STRIPE_PRICE_PRO_YEARLY=price_xxx
